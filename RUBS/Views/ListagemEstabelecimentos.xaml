<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="RUBS.Views.ListagemEstabelecimentos"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml">

    <AbsoluteLayout Padding="10">
        <!--  Título da página  -->
        <Label
            FontSize="20"
            HorizontalOptions="Center"
            Text="Lista de Estabelecimentos" 
            AbsoluteLayout.LayoutBounds="0.5, 0, AutoSize, AutoSize"
            AbsoluteLayout.LayoutFlags="PositionProportional"/>

        <!--  Lista de estabelecimentos  -->
        <ListView
            x:Name="ListaEstabelecimentos"
            HasUnevenRows="True"
            ItemTapped="ListaEstabelecimentos_ItemTapped"
            SeparatorVisibility="Default"
            AbsoluteLayout.LayoutBounds="0, 0, 1, 1"
            AbsoluteLayout.LayoutFlags="All">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <ViewCell>
                        <StackLayout Padding="10">
                            <Label FontSize="20" Text="{Binding nome_fantasia}" />
                        </StackLayout>
                    </ViewCell>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>

        <!--  Sobreposição com efeito de blur cobrindo toda a tela  -->
        <ContentView
            x:Name="FundoBlur"
            AbsoluteLayout.LayoutBounds="0, 0, 1, 1"
            AbsoluteLayout.LayoutFlags="All"
            BackgroundColor="#80000000"
            InputTransparent="False"
            IsVisible="False">
            <ContentView.GestureRecognizers>
                <TapGestureRecognizer />
            </ContentView.GestureRecognizers>

            <StackLayout HorizontalOptions="Center" VerticalOptions="Center">
                <Label
                    FontSize="Large"
                    HorizontalTextAlignment="Center"
                    Text="Aguarde enquanto carregamos as informações..."
                    TextColor="White" />
            </StackLayout>
        </ContentView>
    </AbsoluteLayout>
</ContentPage>
